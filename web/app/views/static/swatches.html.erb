
<div style="height:10em">
  <div id="versionsHidden" style="position:relative; width: 25%">
  </div>
  <div style="clear:both;"></div>
</div>
<script>
$(function() {
  var vButton = drawVersionsButton();
  var vList = drawVersionsList(false, []);
  var vContainer = drawVersionsContainer(vButton, vList);
  $("#versionsHidden").append(vContainer);
});
</script>

<div style="height:10em;">
  <div id="versionsShown" style="position:relative; width: 25%">
  </div>
  <div style="clear:both;"></div>
</div>
<script>
$(function() {
  var vButton = drawVersionsButton();
  var b1 = drawVersionButton(Date());
  var b2 = drawVersionButton(Date());
  var vList = drawVersionsList(true, [b1, b2]);
  var vContainer = drawVersionsContainer(vButton, vList);
  $("#versionsShown").append(vContainer);
});
</script>

<div>
  <div id="codemirror-regions-test">
  </div>
  <div id="codemirror-results">
  </div>
  <div style="clear:both;"></div>
</div>
<script>
$(function() {
  var cm = makeEditor(
    $("#codemirror-regions-test"),
    {
      initial: "",
      run: function() {}
    }
  );
  var editor = createEditor(cm.getDoc(), [
      "fun f():",
      "\ncheck:",
      "\nend"
    ],
    {
      initial: {0: "\n  # Your code here", 1: "\n  # Your tests here"} 
    });
  setInterval(function() {
    $("#codemirror-results").empty();
    $("#codemirror-results").append(
      $("<ul>")
        .append($("<li>").text(editor.getAt(0)))
        .append($("<li>").text(editor.getAt(1))));
  }, 100);
  setInterval(function() {
    editor.setAt(1, "\n  # Forcing these checks down yo throat");
  }, 1000);
});
</script>

<div>
  <div id="codemirror-inline-test">
  </div>
  <div id="codemirror-inline-results">
  </div>
  <div style="clear:both;"></div>
</div>
<script>
$(function() {
  var cm = makeEditor(
    $("#codemirror-inline-test"),
    {
      initial: "",
      run: function() {}
    }
  );
  var editor = createEditor(cm.getDoc(), [
      "fun f(x ::",", y ::",")"
    ], {
      names: ["xAnn", "yAnn"],
      initial: {xAnn: " ", yAnn: " String"}
    });
  setInterval(function() {
    $("#codemirror-inline-results").empty();
    $("#codemirror-inline-results").append(
      $("<ul>")
        .append($("<li>").text(editor.getAt("xAnn")))
        .append($("<li>").text(editor.getAt("yAnn"))));
  }, 100);
});
</script>

<div style="height:10em;">
  <div id="version-review-ui" style="position:relative; width: 25%">
  </div>
  <div id="version-content-log">
  </div>
</div>
<script>
var versionsUI = versions($("#version-review-ui"), {
    onLoadVersion: function(response) {
      $("#version-content-log").append($("<p>").text(response));
    },
    lookupVersions: function(success) {
      success([
        {
          time: "Jun 4, 2014",
          lookup: function(success2) { success2("Version 1"); },
          reviews: [{
              lookup: function(success2) {
                success2({
                  correct: "6",
                  design: "7",
                  comments: "Nice try, use more helpers"
                });
              }
            }]
        }, {
          time: "Jun 5, 2014",
          lookup: function(success2) { success2("Version 2"); },
          reviews: [{
              lookup: function(success2) {
                success2({
                  correct: "7",
                  design: "8",
                  comments: "Helpers are there, still not passing tests"
                });
              }
            }, {
              lookup: function(success2) {
                success2({
                  correct: "8",
                  design: "7",
                  comments: "Avoid parentheses when unnecessary"
                });
              }
            }
          ]
        }, {
          time: "Jun 6, 2014",
          lookup: function(success2) { success2("Version 3"); },
          reviews: []
        }
      ])
    },
    save: function(success) {
      success();
    })

</script>





